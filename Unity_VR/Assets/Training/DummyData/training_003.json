{
  "moduleId": "ELEC_PANEL_003",
  "title": "Electrical Panel Safety & Maintenance",
  "version": "1.0",
  "mode": "VR",
  "estimatedDurationMin": 30,
  "language": "en",
  "tasks": [
    {
      "taskId": 1,
      "taskTitle": "Task 1: Approach & Safety Checks",
      "steps": [
        {
          "stepId": 1,
          "title": "Introduction to Electrical Panel Maintenance",
          "description": "This module teaches you the safe procedure for inspecting, de-energizing, and performing maintenance on a low-voltage electrical distribution panel.",
          "instructionType": "info",
          "media": {
            "type": "image",
            "path": "Prefabs/Media/testImage1"
          },
          "model": null,
          "interactions": null,
          "completionCriteria": {
            "type": "button_clicked",
            "value": "next"
          }
        },
        {
          "stepId": 2,
          "title": "Don Arc-Flash PPE",
          "description": "Put on the arc-flash rated face shield, insulated gloves, and flame-resistant clothing before approaching the panel.",
          "instructionType": "safety",
          "media": {
            "type": "image",
            "path": "Prefabs/Media/testImage2"
          },
          "model": null,
          "interactions": {
            "requiredAction": "confirm_ppe",
            "inputMethod": "ui_button",
            "target": null,
            "hand": null,
            "attemptsAllowed": 0
          },
          "completionCriteria": {
            "type": "user_confirmed",
            "value": "arc_flash_ppe_worn"
          }
        },
        {
          "stepId": 3,
          "title": "Verify Zero Energy State",
          "description": "Use a non-contact voltage tester to confirm all circuits in the panel are de-energized.",
          "instructionType": "action",
          "media": null,
          "model": {
            "path": "Prefabs/GLB/cube",
            "animation": "cubeanimation1",
            "spawn": {
              "position": [0, 0, 2],
              "rotation": [0, 180, 0],
              "scale": 1.0
            }
          },
          "interactions": {
            "requiredAction": "use_tool",
            "inputMethod": null,
            "target": "voltage_tester",
            "hand": "right",
            "attemptsAllowed": 0
          },
          "completionCriteria": {
            "type": "interaction_completed",
            "value": "use_tool"
          }
        }
      ]
    },
    {
      "taskId": 2,
      "taskTitle": "Task 2: Panel Inspection",
      "steps": [
        {
          "stepId": 4,
          "title": "Open Panel Door",
          "description": "Unlatch and open the panel door to access the internal components.",
          "instructionType": "action",
          "media": null,
          "model": {
            "path": "Prefabs/GLB/cube",
            "animation": "cubeanimation2",
            "spawn": {
              "position": [0, 0, 2],
              "rotation": [0, 180, 0],
              "scale": 1.0
            }
          },
          "interactions": {
            "requiredAction": "grab_and_pull",
            "inputMethod": null,
            "target": "panel_door",
            "hand": null,
            "attemptsAllowed": 0
          },
          "completionCriteria": {
            "type": "animation_completed",
            "value": "cubeanimation2"
          }
        },
        {
          "stepId": 5,
          "title": "Thermal Scan",
          "description": "Use the infrared thermal camera to scan all bus bars and breaker connections for hot spots.",
          "instructionType": "inspect",
          "media": {
            "type": "image",
            "path": "Prefabs/Media/testImage1"
          },
          "model": {
            "path": "Prefabs/GLB/cube",
            "animation": "cubeanimation1",
            "spawn": {
              "position": [0, 0, 2],
              "rotation": [0, 0, 0],
              "scale": 1.5
            }
          },
          "interactions": {
            "requiredAction": "use_tool",
            "inputMethod": null,
            "target": "thermal_camera",
            "hand": "right",
            "attemptsAllowed": 0
          },
          "completionCriteria": {
            "type": "time_spent",
            "value": "8"
          }
        },
        {
          "stepId": 6,
          "title": "Assessment Decision",
          "description": "Based on the thermal scan results, what action should be taken?",
          "instructionType": "question",
          "media": null,
          "model": null,
          "interactions": null,
          "completionCriteria": null,
          "choices": [
            { "label": "All connections normal — proceed to torque check", "goToStepId": 7 },
            { "label": "Hot spot detected — isolate and retorque", "goToStepId": 7 },
            { "label": "Critical failure — escalate to supervisor", "goToStepId": 10 }
          ]
        }
      ]
    },
    {
      "taskId": 3,
      "taskTitle": "Task 3: Maintenance & Closeout",
      "steps": [
        {
          "stepId": 7,
          "title": "Torque Check on Bus Bar Connections",
          "description": "Using a calibrated torque wrench, verify all bus bar bolted connections meet the manufacturer's specified torque values.",
          "instructionType": "action",
          "media": null,
          "model": {
            "path": "Prefabs/GLB/cube",
            "animation": "cubeanimation2",
            "spawn": {
              "position": [0, 0, 2],
              "rotation": [0, 180, 0],
              "scale": 1.0
            }
          },
          "interactions": {
            "requiredAction": "grab_and_rotate",
            "inputMethod": null,
            "target": "bus_bar_bolt",
            "hand": null,
            "attemptsAllowed": 3
          },
          "completionCriteria": {
            "type": "interaction_completed",
            "value": "grab_and_rotate"
          }
        },
        {
          "stepId": 8,
          "title": "Clean Panel Interior",
          "description": "Use a dry brush to remove dust and debris from the panel interior. Do not use compressed air.",
          "instructionType": "action",
          "media": null,
          "model": {
            "path": "Prefabs/GLB/cube",
            "animation": "cubeanimation1",
            "spawn": {
              "position": [0, 0, 2],
              "rotation": [0, 180, 0],
              "scale": 1.0
            }
          },
          "interactions": {
            "requiredAction": "use_tool",
            "inputMethod": null,
            "target": "cleaning_brush",
            "hand": "right",
            "attemptsAllowed": 0
          },
          "completionCriteria": {
            "type": "animation_completed",
            "value": "cubeanimation1"
          }
        },
        {
          "stepId": 9,
          "title": "Close Panel & Remove Locks",
          "description": "Close and latch the panel door, then remove your lockout/tagout devices in the correct sequence.",
          "instructionType": "action",
          "media": null,
          "model": {
            "path": "Prefabs/GLB/cube",
            "animation": "cubeanimation2",
            "spawn": {
              "position": [0, 0, 2],
              "rotation": [0, 180, 0],
              "scale": 1.0
            }
          },
          "interactions": {
            "requiredAction": "grab_and_push",
            "inputMethod": null,
            "target": "panel_door",
            "hand": null,
            "attemptsAllowed": 0
          },
          "completionCriteria": {
            "type": "animation_completed",
            "value": "cubeanimation2"
          }
        },
        {
          "stepId": 10,
          "title": "Maintenance Complete",
          "description": "Electrical panel maintenance is complete. File your inspection report and return all tools to the crib.",
          "instructionType": "completion",
          "media": {
            "type": "image",
            "path": "Prefabs/Media/testImage1"
          },
          "model": null,
          "interactions": null,
          "completionCriteria": {
            "type": "button_clicked",
            "value": "finish"
          }
        }
      ]
    }
  ]
}
